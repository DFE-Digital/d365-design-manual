{% set pageData = pages['powerpages/components/number-input'] %}
{% set showHeaderSection = true %}
{% set showSubNav = true %}
{% set dateUpdated = "March 2024" %}

{% from 'includes/components/_number-input.njk' import numberHeaderExample, numberStandardExample, numberHintExample, numberPrefixSuffixExample %}

{% extends "layouts/_wide-right-left-navigation.html" %}

{% block content %}
<div class="dfe-contents-container">
  <nav class="dfe-contents-list">
    <h2 class="dfe-contents-list__title">Contents</h2>
    <ol class="dfe-contents-list__list">
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#when-to-use-this-component">When to use this component</a>
      </li>          
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#when-to-not-use-this-component">When to not use this component</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#how-it-works">How it works</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#html-examples">HTML examples</a>
        <ol class="dfe-contents-list__nested-list">
          <li class="dfe-contents-list__list-item dfe-contents-list__list-item--dashed">
            <a class="dfe-contents-list__link govuk-link" href="#single-question">For single question pages</a>
          </li>
          <li class="dfe-contents-list__list-item dfe-contents-list__list-item--dashed">
            <a class="dfe-contents-list__link govuk-link" href="#multiple-question">For multiple question pages</a>
          </li>
          <li class="dfe-contents-list__list-item dfe-contents-list__list-item--dashed">
            <a class="dfe-contents-list__link govuk-link" href="#hint-text">Using hint text</a>
          </li>
          <li class="dfe-contents-list__list-item dfe-contents-list__list-item--dashed">
            <a class="dfe-contents-list__link govuk-link" href="#prefix-suffix">Prefixes and suffixes</a>
          </li>
        </ol> 
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#input-sizing">Use appropriately-sized inputs</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#whole-number">Asking for a whole number</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#decimal-number">Asking for a decimal number</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#avoid-type-number">Avoid using inputs with a type of number</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#min-max">Minimum and maximum</a>
      </li>
      <li class="dfe-contents-list__list-item">
        <a class="dfe-contents-list__link govuk-link" href="#error-messages">Error messages</a>
      </li>
    </ol>
  </nav>
</div>

<h2 class="govuk-heading-m" id="when-to-use-this-component">When to use this component</h2>

<p class="govuk-body">{{ pageData.description }}</p>

<h2 class="govuk-heading-m" id="when-to-not-use-this-component">When to not use this component</h2>

<p class="govuk-body">Do not use the number input component for any other purpose than allowing users to enter an whole number or decimal number.</p>

<p class="govuk-body">There is specific guidance on how to ask for:</p>
<ul class="govuk-list govuk-list--bullet">
  <li><a class="govuk-link" href="./date-input">dates</a></li>
  <li><a class="govuk-link" href="./telephone-input">telephone numbers</a></li>
</ul>

<h2 class="govuk-heading-m" id="how-it-works">How it works</h2>

<p class="govuk-body">All number inputs must have labels, and in most cases the label should be visible.</p>
<p class="govuk-body">Labels are aligned above the number input they refer to. They should be short, direct and written in sentence case. Do not use colons at the end of labels.</p>

<p class="govuk-body">
  Refrain from using placeholder text instead of labels or for hints/examples. 
  Placeholder text can disappear as soon as users start typing, potentially causing issues for users with memory conditions or when reviewing answers. 
  Additionally, not all screen readers read placeholder text, and its default browser styles may not meet minimum contrast requirements.
</p>

<h2 class="govuk-heading-m" id="html-examples">HTML examples</h2>
<p class="govuk-body">
  Select the appropriate example from this page and directly integrate the HTML into your web template. 
  You can customise these examples to align with your specific requirements, as indicated below.
  Refer to the <a class="govuk-link" href="../layouts">layouts</a> section for further guidance on structuring your web template.
</p>
<p class="govuk-body">
  If the component requires submission to a CRM field, ensure to replace the placeholder <code>schema-name</code> text in the HTML example with the actual target field schema name. 
  Retain any prefixed or suffixed text related to the schema name. 
  For instance, if the id attribute reads <code>schema-name-hint</code> in the example, ensure the replacement maintains the <code>-hint</code> suffix (e.g. <code>dfe_field-hint</code>).
</p>

<p class="govuk-body">
  This step is crucial for allowing the <a class="govuk-link" href="">CRM helper framework</a> to validate and submit data to CRM.
</p>

<h3 class="govuk-heading-s" id="single-question">For single question pages</h3>
<p class="govuk-body">
  If presenting only one question on the page, designate the contents of the <code>label</code> as the page heading. 
  This practice ensures users of screen readers hear the contents only once.
</p>

<p class="govuk-body">You will need to include an empty <code>&#123;% title %&#125;</code> block in your web template to remove the default page header and avoid duplication.</p>

{{ numberHeaderExample() }}

<h3 class="govuk-heading-s" id="multiple-question">For multiple question pages</h3>

<p class="govuk-body">If presenting more than one question on the page, do not set the contents of the <code>label</code> as the page heading.</p>

{{ numberStandardExample() }}

<h3 class="govuk-heading-s" id="hint-text">Using hint text</h3>

<p class="govuk-body">
  Use hint text to provide relevant assistance to the majority of users, such as clarifying how their information will be used or where to locate it. 
  The hint text block is demonstrated in the example below.
</p>

<p class="govuk-body">Please ensure the following:</p>

<ul class="govuk-list govuk-list--bullet">
  <li>Use the hint text block appropriately</li>
  <li>Place the hint block correctly within your HTML component</li>
  <li>Add the <code>aria-describedby</code> attribute where necessary, for accessiblity. For the email component this is against the <code>input</code>.</li>
</ul>

<p class="govuk-body">
  Avoid lengthy paragraphs and lists in hint text, as screen readers will read out the entire content, potentially frustrating users. 
  Additionally, refrain from including links within hint text, as screen readers do not indicate that the text is a clickable link.
</p>

{{ numberHintExample() }}

<h3 class="govuk-heading-s" id="prefix-suffix">Prefixes and suffixes</h3>
<p class="govuk-body">Use prefixes and suffixes to help users enter things like currencies and measurements.</p>
<p class="govuk-body">Prefixes and suffixes are useful when there's a commonly understood symbol or abbreviation for the type of information you're asking for. 
  Do not rely on prefixes or suffixes alone, because screen readers will not read them out.</p>
<p class="govuk-body">If you need a specific type of information, say so in the input label or hint text as well. For example, put 'Cost, in pounds' in the input label 
  and use the 'Â£' symbol in the prefix.</p>
<p class="govuk-body">Position prefixes and suffixes are positioned outside of their input to avoid interfering with some browsers that might insert an icon into the input
   (for example to show or generate a password).</p>
  
{{ numberPrefixSuffixExample() }}

<h2 class="govuk-heading-m" id="input-sizing">Use appropriately-sized inputs</h2>
<p class="govuk-body">Help users understand what they should enter by making number inputs the right size for the content they're intended for.</p>
<p class="govuk-body">By default, the width of number inputs is fluid and will fit the full width of the container they are placed into.</p>
<p class="govuk-body">If you want to make the input smaller, you can either use a fixed width input, or use the width override classes to create a smaller, fluid width input.</p>
<p class="govuk-body"><a class="govuk-link" href="https://design-system.service.gov.uk/components/text-input/#use-appropriately-sized-text-inputs" target="_blank">Read more about sizing your inputs and see examples on the GOV.UK Design System (opens in a new tab)</a>.</p>

<h2 class="govuk-heading-m" id="whole-number">Asking for a whole number</h2>
<p class="govuk-body">If you're asking the user to enter a whole number, make sure the <code>inputmode</code> attribute is set to <code>numeric</code> to use the numeric keypad on devices 
  with on-screen keyboards. The examples provided above on this page already have the <code>inputmode="numeric"</code> attribute.</p>

<h2 class="govuk-heading-m" id="decimal-number">Asking for a decimal number</h2>
<p class="govuk-body">If you're asking the user to enter a number that might include decimal places, use <code>input type="text"</code>. 
<p class="govuk-body">Do not set the <code>inputmode</code> attribute as it causes some devices to bring up a keypad without a key for the decimal separator.
  When copying the examples on this page, you will need to remove this attribute from the HTML.</p>

<h2 class="govuk-heading-m" id="avoid-type-number">Avoid using inputs with a type of number</h2>
<p class="govuk-body">Do not use <code>&lt;input type="number"&gt;</code> unless your user research shows that there's a need for it. With <code>&lt;input type="number"&gt;</code> there's 
  a risk of users accidentally incrementing a number when they're trying to do something else - for example, scroll up or down the page. And if the user tries to enter 
  something that's not a number, there's no explicit feedback about what they're doing wrong.</p>

<h2 class="govuk-heading-m" id="min-max">Minimum and maximum</h2>
<p class="govuk-body">The number component does not use <code>input type="number"</code> so the standard HTML <code>min</code> and <code>max</code> attributes do not apply. 
  Do not use the <code>minlength</code> and <code>maxlength</code> attributes associated with <code>input type="text"</code> either. Browsers will not permit the user to enter more than the characters defined by the value of the maxlength attribute, cutting off the text as-you-type and truncating 
   pasted text. This can lead to bad user experience.</p>
<p class="govuk-body">You can use custom attributes which will work with the portal helper validation framework to set the allowed value or length range of a number input.</p>
<p class="govuk-body">Minimum and maximum length and minimum and maximum value attributes can be used together, but only when the input is a whole number.</p>

<h3 class="govuk-heading-s">Minimum and maximum value</h3>
<p class="govuk-body">Use <code>minvalue</code> and <code>maxvalue</code> attributes to set a minimum or maximum value for your input. For example, <code>input maxvalue="10"</code> 
  will prevent the user being able to submit a number greater than 10.</p>
<p class="govuk-body">Use the <code>minvalue</code> attribute together with the <code>maxvalue</code> attribute to create a range of allowed values.</p>

<h3 class="govuk-heading-s">Minimum and maximum length</h3>
<p class="govuk-body">Use <code>minchar</code> and <code>maxchar</code> attributes to set a minimum or maximum length for your input. For example, you may wish to use <code>input minchar="8" maxchar="8"</code> 
  when asking for a bank account number. Will ensure the user can only submit a number of 8 characters in length.</p>
<p class="govuk-body">You can use the <code>minchar</code> attribute together with the <code>maxchar</code> attribute to create a range of allowed lengths, as described in the example above, or as individual attributes.</p>
<p class="govuk-body">The length attributes can only be used as part of a number component when the input is a whole number.</p>

<h2 class="govuk-heading-m" id="error-messages">Error messages</h2>
<p class="govuk-body">
  An error message is displayed next to the field and in the error summary when a validation error occurs. 
  The CRM helper framework automatically handles error messages for specific error states, therefore you do not need to add any additional error containers to your HTML. 
  <a class="govuk-link" href="#">Refer to the CRM helper framework guide</a> to understand how to validate your front-end data.
</p>

<p class="govuk-body">Ensure that your component HTML and your <a class="govuk-link" href="#">inputs validation JavaScript object</a> are structured correctly for your component type.</p>

<p class="govuk-body">
  Occasionally you may wish to employ error messages outside of the validation process. 
  You can <a class="govuk-link" href="">read about the functions available within the CRM helper framework</a> to assist you with this.
</p>

<p class="govuk-body">If you would like any additional advice or guidance with using these examples on Power Pages, please contact the Solutions Delivery Team.</p>

<script type="text/javascript" src="/assets/js/update-html-example.js"></script>

{% endblock %}