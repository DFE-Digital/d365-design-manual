<!DOCTYPE html>
<html lang="en" class="govuk-template govuk-template--rebranded">

<head>
    <meta charset="utf-8">
    <title>{% if seoPageName %}{{seoPageName}}{% elseif pageData.title %}{{pageData.title}}{%endif%} - Dynamics 365 Design System - Department for Education</title>
    <meta name="description" content="{% if seoPageDescription %}{{seoPageDescription}}{% elseif pageName %}{{pageDescription}}{%endif%}">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#1d70b8">
    <link rel="icon" sizes="48x48" href="/assets/images/favicon.ico">
    <link rel="icon" sizes="any" href="/assets/images/favicon.svg" type="image/svg+xml">
    <link rel="mask-icon" href="/assets/images/govuk-icon-mask.svg" color="#1d70b8">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/govuk-icon-180.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/assets/images/govuk-icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/assets/images/govuk-icon-512.png">
    <link rel="manifest" href="/assets/manifest.json">
    <link rel="stylesheet" href="/assets/css/github.css" >
    <link rel="stylesheet" href="/assets/css/app.css" >
    {% block head %}{% endblock %}
</head>

<body class="govuk-template__body ">
    <script>
      document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');
    </script>

    {% include 'includes/_header.html' %}

    {% if pageData.title == "Home" %}
    <header class="dfe-homepage-header-panel">
      <div class="govuk-width-container">
        <div class="dfe-homepage-header-panel__title-container">
          <h1 class="dfe-homepage-header-panel__title">
            Principles for seamless DfE Dynamics 365 experiences based on GDS
          </h1>
        </div>
        <div class="dfe-homepage-header-panel__intro">
          Welcome to the Dynamics 365 Design System - your go-to resource for building joined-up, user-centred services on Dynamics 365
        </div>
      </div>
    </header>
    {% endif %}

    {% if showTitlePanel %}
      <section style="background-color:#1d70b8;" class="govuk-!-padding-top-4 govuk-!-padding-bottom-4">
        <div class="govuk-width-container">
          <div class="govuk-grid-row ">
            <div class="govuk-grid-column-two-thirds">
              <h1 class="govuk-heading-xl govuk-!-margin-top-5 govuk-!-margin-bottom-5" style="color:#fff;">{{ pageData.title }}</h1>
              <p class="govuk-body-l" style="color:#fff;">{{ pageData.description }}</p>
            </div>
          </div>
        </div>
      </section>
    {% endif %}

    {% if showSubNav and showTitlePanel %}
      {% include "includes/_sub-nav.html" %}
    {% endif %}

    <!-- Anchor for scrolling -->
    <a id="top"></a>

    <!-- Back to top link -->
    <a href="#top" id="back-to-top" class="govuk-link" style="display: none; position: fixed; bottom: 2rem; right: 2rem; z-index: 1000; background: white; padding: 0.5rem 1rem; border: 1px solid #b1b4b6; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-decoration: none;" aria-label="Back to top of page">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="vertical-align: middle; margin-right: 0.3em;" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
        <path fill-rule="evenodd" d="M8 3.293l4.646 4.647-.708.707L8 4.707 4.061 8.647l-.708-.707L8 3.293z"/>
      </svg>
      Back to top
    </a>

    {% block main %}{% endblock %}

    {% include 'includes/_footer.html'%}

    <script src="/assets/js/jquery.min.js"></script>

    <!-- Syntax highlighting for code blocks (client-side for dynamic updates) -->
    <script src="/assets/js/hljs-bundle.js"></script>

    <!-- Copy code button for all code blocks -->
    <script src="/assets/js/copy-code-button.js"></script>

    {% if showTitlePanel %}
    <script>
      $('.govuk-service-navigation').addClass('govuk-service-navigation--inverse');
    </script>
    {% endif %}

    {% block script %}{% endblock %}

    <script type="module" src="/assets/js/govuk-frontend.min.js"></script>
    <script type="module" src="/assets/js/dfe-custom-components.js"></script>
    {% if showSubNav %}
    <script src="/assets/js/side-nav-toggle.js"></script>
    {% endif %}
    <script type="module">
      import { initAll } from "/assets/js/govuk-frontend.min.js";
      import { DfEComponents } from "/assets/js/dfe-custom-components.js";

      initAll()
      DfEComponents.initAll()

      window.addEventListener('scroll', function () {
        const link = document.getElementById('back-to-top');
        if (window.scrollY > 800) {
          link.style.display = 'inline-block';
        } else {
          link.style.display = 'none';
        }
      });
    </script>
</body>

</html>