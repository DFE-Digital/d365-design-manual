{
  "version": 3,
  "sources": ["../../app/js/dfe-custom-components.js"],
  "sourcesContent": ["const DfEComponents = {};\r\n\r\nDfEComponents.nodeListForEach = function(nodes, callback) {\r\n  if (window.NodeList.prototype.forEach) {\r\n    return nodes.forEach(callback);\r\n  }\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    callback.call(window, nodes[i], i, nodes);\r\n  }\r\n};\r\n\r\nDfEComponents.initAll = function(options = {}) {\r\n  const scope = options.scope || document;\r\n\r\n  const $sortableTables = scope.querySelectorAll('[data-module=\"dfe-sortable-table\"]');\r\n  DfEComponents.nodeListForEach($sortableTables, function($table) {\r\n    new DfEComponents.SortableTable({ table: $table });\r\n  });\r\n\r\n  const $searchableTables = scope.querySelectorAll('[data-module=\"dfe-searchable-table\"]');\r\n  DfEComponents.nodeListForEach($searchableTables, function($table) {\r\n    new DfEComponents.SearchableTable({ table: $table });\r\n  });\r\n\r\n  const $filterPanels = scope.querySelectorAll('[data-module=\"dfe-filter-panel\"]');\r\n  DfEComponents.nodeListForEach($filterPanels, function($module) {\r\n    new DfEComponents.FilterPanel($module);\r\n  });\r\n\r\n  const $printLinks = scope.querySelectorAll('.dfe-print-link__button');\r\n  DfEComponents.nodeListForEach($printLinks, function($button) {\r\n    new DfEComponents.PrintLink($button);\r\n  });\r\n};\r\n\r\nDfEComponents.SortableTable = class {\r\n  constructor(params) {\r\n    this.table = $(params.table);\r\n\r\n    if (this.table.data('dfe-search-toggle-initialised')) {\r\n      return;\r\n    }\r\n\r\n    this.table.data('dfe-search-toggle-initialised', true);\r\n\r\n    this.setupOptions(params);\r\n    this.body = this.table.find('tbody');\r\n    this.createHeadingButtons();\r\n    this.createStatusBox();\r\n    this.initialiseSortedColumn();\r\n    this.table.on('click', 'th button', $.proxy(this, 'onSortButtonClick'));\r\n  }\r\n\r\n  setupOptions(params = {}) {\r\n    this.statusMessage = params.statusMessage || 'Sort by %heading% (%direction%)';\r\n    this.ascendingText = params.ascendingText || 'ascending';\r\n    this.descendingText = params.descendingText || 'descending';\r\n  }\r\n\r\n  createHeadingButtons() {\r\n    const headings = this.table.find('thead th');\r\n    for (let i = 0; i < headings.length; i++) {\r\n      const heading = $(headings[i]);\r\n      if (heading.attr('aria-sort')) {\r\n        this.createHeadingButton(heading, i);\r\n      }\r\n    }\r\n  }\r\n\r\n  createHeadingButton(heading, i) {\r\n    const text = heading.text();\r\n    const button = $('<button type=\"button\" data-index=\"' + i + '\">' + text + '</button>');\r\n    heading.text('');\r\n    heading.append(button);\r\n  }\r\n\r\n  createStatusBox() {\r\n    this.status = $('<div aria-live=\"polite\" role=\"status\" aria-atomic=\"true\" class=\"govuk-visually-hidden\" />');\r\n    this.table.parent().append(this.status);\r\n  }\r\n\r\n  initialiseSortedColumn() {\r\n    const rows = this.getTableRowsArray();\r\n    this.table\r\n      .find('th')\r\n      .filter('[aria-sort=\"ascending\"], [aria-sort=\"descending\"]')\r\n      .first()\r\n      .each((index, el) => {\r\n        const sortDirection = $(el).attr('aria-sort');\r\n        const columnNumber = $(el).find('button').attr('data-index');\r\n        const sortedRows = this.sort(rows, columnNumber, sortDirection);\r\n        this.addRows(sortedRows);\r\n      });\r\n  }\r\n\r\n  onSortButtonClick(e) {\r\n    const columnNumber = e.currentTarget.getAttribute('data-index');\r\n    const sortDirection = $(e.currentTarget).parent().attr('aria-sort');\r\n    const newSortDirection = sortDirection === 'none' || sortDirection === 'descending' ? 'ascending' : 'descending';\r\n    const rows = this.getTableRowsArray();\r\n    const sortedRows = this.sort(rows, columnNumber, newSortDirection);\r\n    this.addRows(sortedRows);\r\n    this.removeButtonStates();\r\n    this.updateButtonState($(e.currentTarget), newSortDirection);\r\n  }\r\n\r\n  updateButtonState(button, direction) {\r\n    button.parent().attr('aria-sort', direction);\r\n    let message = this.statusMessage;\r\n    message = message.replace(/%heading%/, button.text());\r\n    message = message.replace(/%direction%/, this[direction + 'Text']);\r\n    this.status.text(message);\r\n  }\r\n\r\n  removeButtonStates() {\r\n    this.table.find('thead th').attr('aria-sort', 'none');\r\n  }\r\n\r\n  addRows(rows) {\r\n    for (let i = 0; i < rows.length; i++) {\r\n      this.body.append(rows[i]);\r\n    }\r\n  }\r\n\r\n  getTableRowsArray() {\r\n    const rows = [];\r\n    const trs = this.body.find('tr');\r\n    for (let i = 0; i < trs.length; i++) {\r\n      rows.push(trs[i]);\r\n    }\r\n    return rows;\r\n  }\r\n\r\n  sort(rows, columnNumber, sortDirection) {\r\n    return rows.sort(\r\n      $.proxy(function(rowA, rowB) {\r\n        const tdA = $(rowA).find('td,th').eq(columnNumber);\r\n        const tdB = $(rowB).find('td,th').eq(columnNumber);\r\n        const valueA = this.getCellValue(tdA);\r\n        const valueB = this.getCellValue(tdB);\r\n        if (sortDirection === 'ascending') {\r\n          return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;\r\n        } else {\r\n          return valueB < valueA ? -1 : valueB > valueA ? 1 : 0;\r\n        }\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  getCellValue(cell) {\r\n    let val = cell.attr('data-sort-value') || cell.html();\r\n    if ($.isNumeric(val)) {\r\n      val = parseInt(val, 10);\r\n    }\r\n    return val;\r\n  }\r\n};\r\n\r\nDfEComponents.SearchableTable = class {\r\n  constructor(params) {\r\n    this.table = $(params.table);\r\n\r\n    if (this.table.data('dfe-search-toggle-initialised')) {\r\n      return;\r\n    }\r\n\r\n    this.table.data('dfe-search-toggle-initialised', true);\r\n\r\n    this.setupOptions(params);\r\n    this.body = this.table.find('tbody');\r\n    this.createStatusBox();\r\n    this.initialiseSortedColumn();\r\n    this.table.on('click', 'th button', $.proxy(this, 'onSortButtonClick'));\r\n\r\n    const searchInput = document.getElementById('searchInput');\r\n    const table = document.getElementById('filterTable');\r\n    const trArray = Array.prototype.slice.call(table.querySelectorAll('tbody tr'));\r\n\r\n    const filterTable = (event) => {\r\n      const searchTerm = event.target.value.toLowerCase();\r\n      trArray.forEach((row) => {\r\n        row.classList.add('hidden');\r\n        const tdArray = Array.prototype.slice.call(row.getElementsByTagName('td'));\r\n        tdArray.forEach((cell) => {\r\n          if (cell.innerText.toLowerCase().indexOf(searchTerm) > -1) {\r\n            row.classList.remove('hidden');\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    if (searchInput) {\r\n      searchInput.addEventListener('input', filterTable);\r\n    }\r\n  }\r\n\r\n  setupOptions(params = {}) {\r\n    this.statusMessage = params.statusMessage || 'Searching %searchValue%';\r\n  }\r\n\r\n  createStatusBox() {\r\n    this.status = $('<div aria-live=\"polite\" role=\"status\" aria-atomic=\"true\" class=\"govuk-visually-hidden\" />');\r\n    this.table.parent().append(this.status);\r\n  }\r\n\r\n  initialiseSortedColumn() {\r\n    const rows = this.getTableRowsArray();\r\n    this.table\r\n      .find('th')\r\n      .filter('[aria-sort=\"ascending\"], [aria-sort=\"descending\"]')\r\n      .first()\r\n      .each((index, el) => {\r\n        const sortDirection = $(el).attr('aria-sort');\r\n        const columnNumber = $(el).find('button').attr('data-index');\r\n        const sortedRows = this.sort(rows, columnNumber, sortDirection);\r\n        this.addRows(sortedRows);\r\n      });\r\n  }\r\n\r\n  onSortButtonClick(e) {\r\n    const columnNumber = e.currentTarget.getAttribute('data-index');\r\n    const sortDirection = $(e.currentTarget).parent().attr('aria-sort');\r\n    const newSortDirection = sortDirection === 'none' || sortDirection === 'descending' ? 'ascending' : 'descending';\r\n    const rows = this.getTableRowsArray();\r\n    const sortedRows = this.sort(rows, columnNumber, newSortDirection);\r\n    this.addRows(sortedRows);\r\n    this.removeButtonStates();\r\n    this.updateButtonState($(e.currentTarget), newSortDirection);\r\n  }\r\n\r\n  updateButtonState(button, direction) {\r\n    button.parent().attr('aria-sort', direction);\r\n    let message = this.statusMessage;\r\n    message = message.replace(/%heading%/, button.text());\r\n    message = message.replace(/%direction%/, this[direction + 'Text']);\r\n    this.status.text(message);\r\n  }\r\n\r\n  removeButtonStates() {\r\n    this.table.find('thead th').attr('aria-sort', 'none');\r\n  }\r\n\r\n  addRows(rows) {\r\n    for (let i = 0; i < rows.length; i++) {\r\n      this.body.append(rows[i]);\r\n    }\r\n  }\r\n\r\n  getTableRowsArray() {\r\n    const rows = [];\r\n    const trs = this.body.find('tr');\r\n    for (let i = 0; i < trs.length; i++) {\r\n      rows.push(trs[i]);\r\n    }\r\n    return rows;\r\n  }\r\n\r\n  sort(rows, columnNumber, sortDirection) {\r\n    return rows.sort(\r\n      $.proxy(function(rowA, rowB) {\r\n        const tdA = $(rowA).find('td,th').eq(columnNumber);\r\n        const tdB = $(rowB).find('td,th').eq(columnNumber);\r\n        const valueA = this.getCellValue(tdA);\r\n        const valueB = this.getCellValue(tdB);\r\n        if (sortDirection === 'ascending') {\r\n          return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;\r\n        } else {\r\n          return valueB < valueA ? -1 : valueB > valueA ? 1 : 0;\r\n        }\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  getCellValue(cell) {\r\n    let val = cell.attr('data-sort-value') || cell.html();\r\n    if ($.isNumeric(val)) {\r\n      val = parseInt(val, 10);\r\n    }\r\n    return val;\r\n  }\r\n};\r\n\r\nDfEComponents.FilterPanel = class {\r\n  constructor(moduleElement) {\r\n    this.$module = moduleElement;\r\n    // Support both old (.dfe-filter-panel__header-button) and new (.dfe-filter-panel__button) selectors\r\n    this.$headerButton = this.$module.querySelector('.dfe-filter-panel__button') ||\r\n                         this.$module.querySelector('.dfe-filter-panel__header-button');\r\n    this.$content = this.$module.querySelector('.dfe-filter-panel__content');\r\n    // Legacy group buttons (for old markup using buttons instead of details/summary)\r\n    this.$groupButtons = this.$module.querySelectorAll('.dfe-filter-panel__group-button');\r\n    this.$applyButton = this.$module.querySelector('.dfe-filter-panel__action--submit');\r\n    this.$selectedSection = null;\r\n    this.$filterSummary = null;\r\n    this.$statusRegion = null;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (!this.$module) return;\r\n\r\n    // Initialize main panel toggle (header button controls visibility of content)\r\n    if (this.$headerButton && this.$content) {\r\n      this.$headerButton.addEventListener('click', this.toggleMainPanel.bind(this));\r\n    }\r\n\r\n    // Initialize legacy group toggles (for old button-based markup)\r\n    // Note: New markup uses native <details>/<summary> which doesn't need JS\r\n    DfEComponents.nodeListForEach(this.$groupButtons, ($button) => {\r\n      $button.addEventListener('click', this.toggleGroup.bind(this, $button));\r\n    });\r\n\r\n    // Initialize apply button\r\n    if (this.$applyButton) {\r\n      this.$applyButton.addEventListener('click', this.applyFilters.bind(this));\r\n    }\r\n\r\n    // Create selected filters section if it doesn't exist\r\n    this.ensureSelectedSection();\r\n\r\n    // Create filter summary section (shown below panel after Apply)\r\n    this.ensureFilterSummary();\r\n\r\n    // Create status region for screen reader announcements\r\n    this.ensureStatusRegion();\r\n\r\n    // Bind tag removal via event delegation (for tags inside panel)\r\n    this.$module.addEventListener('click', (event) => {\r\n      const $tag = event.target.closest('.dfe-filter-panel__tag');\r\n      if ($tag) {\r\n        this.removeTag($tag, event);\r\n      }\r\n    });\r\n\r\n    // Listen for real-time changes on checkboxes, radios, and selects\r\n    this.$module.addEventListener('change', (event) => {\r\n      const $target = event.target;\r\n      if ($target.matches('input[type=\"checkbox\"], input[type=\"radio\"], select')) {\r\n        this.updateSelectedFiltersRealTime();\r\n      }\r\n    });\r\n\r\n    // Listen for real-time changes on date inputs\r\n    this.$module.addEventListener('input', (event) => {\r\n      const $target = event.target;\r\n      if ($target.closest('.govuk-date-input')) {\r\n        this.updateSelectedFiltersRealTime();\r\n      }\r\n    });\r\n\r\n    // Handle Escape key to close panel\r\n    this.$module.addEventListener('keydown', (event) => {\r\n      if (event.key === 'Escape' && this.$content && !this.$content.hidden) {\r\n        this.collapseMainPanel();\r\n        if (this.$headerButton) {\r\n          this.$headerButton.focus();\r\n        }\r\n      }\r\n    });\r\n\r\n    // On page load: read URL params, set form values, and show filter summary if filters exist\r\n    this.initFromUrlParams();\r\n  }\r\n\r\n  initFromUrlParams() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let hasFilters = false;\r\n\r\n    // Set checkbox and radio values from URL params\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name').replace('[]', '');\r\n      const value = $input.value;\r\n      const paramValues = urlParams.getAll(name).concat(urlParams.getAll(name + '[]'));\r\n\r\n      if ($input.type === 'radio') {\r\n        if (paramValues.includes(value)) {\r\n          $input.checked = true;\r\n          // Don't count radio as filter if it's the default (first option)\r\n          const $fieldset = $input.closest('fieldset');\r\n          const $firstRadio = $fieldset ? $fieldset.querySelector('input[type=\"radio\"]') : null;\r\n          if ($firstRadio !== $input) {\r\n            hasFilters = true;\r\n          }\r\n        }\r\n      } else {\r\n        if (paramValues.includes(value)) {\r\n          $input.checked = true;\r\n          hasFilters = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Set select values from URL params\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      const name = $select.getAttribute('name');\r\n      const paramValue = urlParams.get(name);\r\n      if (paramValue) {\r\n        $select.value = paramValue;\r\n        hasFilters = true;\r\n      }\r\n    });\r\n\r\n    // Set date input values from URL params\r\n    const $dateInputs = this.$module.querySelectorAll('.govuk-date-input');\r\n    DfEComponents.nodeListForEach($dateInputs, ($dateGroup) => {\r\n      const $dayInput = $dateGroup.querySelector('input[name$=\"[day]\"]');\r\n      const $monthInput = $dateGroup.querySelector('input[name$=\"[month]\"]');\r\n      const $yearInput = $dateGroup.querySelector('input[name$=\"[year]\"]');\r\n\r\n      if ($dayInput && $monthInput && $yearInput) {\r\n        // Extract base name (e.g., \"date_from\" from \"date_from[day]\")\r\n        const baseName = $dayInput.getAttribute('name').replace('[day]', '');\r\n\r\n        const dayValue = urlParams.get(baseName + '[day]');\r\n        const monthValue = urlParams.get(baseName + '[month]');\r\n        const yearValue = urlParams.get(baseName + '[year]');\r\n\r\n        if (dayValue) $dayInput.value = dayValue;\r\n        if (monthValue) $monthInput.value = monthValue;\r\n        if (yearValue) $yearInput.value = yearValue;\r\n\r\n        if (dayValue || monthValue || yearValue) {\r\n          hasFilters = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    // If there are filters in URL, show the filter summary (collapsed view)\r\n    if (hasFilters) {\r\n      const filterGroups = this.getFilterGroups();\r\n      this.renderFilterSummary(filterGroups);\r\n      this.updateResultCount();\r\n    }\r\n  }\r\n\r\n  buildUrlParams() {\r\n    const params = new URLSearchParams();\r\n    const existingParams = new URLSearchParams(window.location.search);\r\n\r\n    // Preserve non-filter params (like 'keywords')\r\n    existingParams.forEach((value, key) => {\r\n      // Check for regular inputs, selects, and date inputs\r\n      const escapedKey = CSS.escape(key);\r\n      const isFilterParam = this.$module.querySelector(\r\n        'input[name=\"' + escapedKey + '\"], input[name=\"' + escapedKey + '[]\"], select[name=\"' + escapedKey + '\"], input[name=\"' + CSS.escape(key.replace('[]', '')) + '[]\"]'\r\n      );\r\n      // Also check if this is a date input param (e.g., date_from[day])\r\n      const isDateParam = key.match(/\\[(day|month|year)\\]$/);\r\n      if (!isFilterParam && !isDateParam) {\r\n        params.append(key, value);\r\n      }\r\n    });\r\n\r\n    // Add filter params from form\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked, input[type=\"radio\"]:checked');\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name');\r\n      const value = $input.value;\r\n\r\n      // For radios, only add if not the default (first option)\r\n      if ($input.type === 'radio') {\r\n        const $fieldset = $input.closest('fieldset');\r\n        const $firstRadio = $fieldset ? $fieldset.querySelector('input[type=\"radio\"]') : null;\r\n        if ($firstRadio !== $input) {\r\n          params.append(name.replace('[]', ''), value);\r\n        }\r\n      } else {\r\n        params.append(name.replace('[]', '') + '[]', value);\r\n      }\r\n    });\r\n\r\n    // Add select values\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      if ($select.value) {\r\n        params.append($select.getAttribute('name'), $select.value);\r\n      }\r\n    });\r\n\r\n    // Add date input values\r\n    const $dateInputs = this.$module.querySelectorAll('.govuk-date-input');\r\n    DfEComponents.nodeListForEach($dateInputs, ($dateGroup) => {\r\n      const $dayInput = $dateGroup.querySelector('input[name$=\"[day]\"]');\r\n      const $monthInput = $dateGroup.querySelector('input[name$=\"[month]\"]');\r\n      const $yearInput = $dateGroup.querySelector('input[name$=\"[year]\"]');\r\n\r\n      if ($dayInput && $dayInput.value) {\r\n        params.append($dayInput.getAttribute('name'), $dayInput.value);\r\n      }\r\n      if ($monthInput && $monthInput.value) {\r\n        params.append($monthInput.getAttribute('name'), $monthInput.value);\r\n      }\r\n      if ($yearInput && $yearInput.value) {\r\n        params.append($yearInput.getAttribute('name'), $yearInput.value);\r\n      }\r\n    });\r\n\r\n    return params;\r\n  }\r\n\r\n  reloadWithParams(params) {\r\n    const newUrl = window.location.pathname + (params.toString() ? '?' + params.toString() : '');\r\n    window.location.href = newUrl;\r\n  }\r\n\r\n  toggleMainPanel(event) {\r\n    event.preventDefault();\r\n    const isExpanded = this.$headerButton.getAttribute('aria-expanded') === 'true';\r\n    this.$headerButton.setAttribute('aria-expanded', String(!isExpanded));\r\n    this.$content.hidden = isExpanded;\r\n  }\r\n\r\n  collapseMainPanel() {\r\n    if (this.$headerButton && this.$content) {\r\n      this.$headerButton.setAttribute('aria-expanded', 'false');\r\n      this.$content.hidden = true;\r\n    }\r\n  }\r\n\r\n  toggleGroup($button, event) {\r\n    event.preventDefault();\r\n    const isExpanded = $button.getAttribute('aria-expanded') === 'true';\r\n    const contentId = $button.getAttribute('aria-controls');\r\n    const $content = this.$module.querySelector('#' + contentId);\r\n\r\n    if ($content) {\r\n      $button.setAttribute('aria-expanded', String(!isExpanded));\r\n      $content.hidden = isExpanded;\r\n    }\r\n  }\r\n\r\n  ensureSelectedSection() {\r\n    this.$selectedSection = this.$module.querySelector('.dfe-filter-panel__selected');\r\n    if (!this.$selectedSection) {\r\n      // Create the selected filters section\r\n      this.$selectedSection = document.createElement('div');\r\n      this.$selectedSection.className = 'dfe-filter-panel__selected';\r\n      this.$selectedSection.hidden = true;\r\n      this.$selectedSection.innerHTML = `\r\n        <div class=\"dfe-filter-panel__selected-header\">\r\n          <h3 class=\"dfe-filter-panel__selected-heading\">Selected filters</h3>\r\n          <a href=\"#\" class=\"govuk-link govuk-link--no-visited-state dfe-filter-panel__clear-all\">Clear all filters</a>\r\n        </div>\r\n        <ul class=\"dfe-filter-panel__selected-categories\"></ul>\r\n      `;\r\n      // Insert at the start of the content area\r\n      if (this.$content) {\r\n        this.$content.insertBefore(this.$selectedSection, this.$content.firstChild);\r\n      }\r\n\r\n      // Bind clear all link\r\n      const $clearAll = this.$selectedSection.querySelector('.dfe-filter-panel__clear-all');\r\n      if ($clearAll) {\r\n        $clearAll.addEventListener('click', this.clearAllFilters.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  ensureFilterSummary() {\r\n    // Create filter summary section that appears BELOW the filter panel (outside of it)\r\n    this.$filterSummary = this.$module.nextElementSibling;\r\n    if (!this.$filterSummary || !this.$filterSummary.classList.contains('dfe-filter-summary')) {\r\n      this.$filterSummary = document.createElement('div');\r\n      this.$filterSummary.className = 'dfe-filter-summary';\r\n      this.$filterSummary.hidden = true;\r\n      this.$filterSummary.innerHTML = `\r\n        <h3 class=\"dfe-filter-summary__heading\">Filters applied</h3>\r\n        <ul class=\"dfe-filter-summary__remove-filters\"></ul>\r\n        <a href=\"#\" class=\"govuk-link govuk-link--no-visited-state dfe-filter-summary__clear-filters\">Clear all filters</a>\r\n      `;\r\n      // Insert after the filter panel\r\n      this.$module.insertAdjacentElement('afterend', this.$filterSummary);\r\n\r\n      // Bind clear all link in summary\r\n      const $clearAll = this.$filterSummary.querySelector('.dfe-filter-summary__clear-filters');\r\n      if ($clearAll) {\r\n        $clearAll.addEventListener('click', this.clearAllFilters.bind(this));\r\n      }\r\n\r\n      // Bind tag removal via event delegation in summary\r\n      this.$filterSummary.addEventListener('click', (event) => {\r\n        const $tag = event.target.closest('.dfe-filter-summary__remove-filter');\r\n        if ($tag) {\r\n          this.removeSummaryTag($tag, event);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ensureStatusRegion() {\r\n    // Create a visually hidden live region for screen reader announcements\r\n    this.$statusRegion = this.$module.querySelector('.dfe-filter-panel__status');\r\n    if (!this.$statusRegion) {\r\n      this.$statusRegion = document.createElement('div');\r\n      this.$statusRegion.className = 'dfe-filter-panel__status govuk-visually-hidden';\r\n      this.$statusRegion.setAttribute('aria-live', 'polite');\r\n      this.$statusRegion.setAttribute('aria-atomic', 'true');\r\n      this.$statusRegion.setAttribute('role', 'status');\r\n      this.$module.appendChild(this.$statusRegion);\r\n    }\r\n  }\r\n\r\n  announceFilterChange(message) {\r\n    if (this.$statusRegion) {\r\n      // Clear and re-set to ensure announcement\r\n      this.$statusRegion.textContent = '';\r\n      setTimeout(() => {\r\n        this.$statusRegion.textContent = message;\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  getFilterGroups() {\r\n    // Get all checked checkboxes and selected radios\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked, input[type=\"radio\"]:checked');\r\n    const $selects = this.$module.querySelectorAll('select');\r\n\r\n    // Group filters by their category (name attribute or parent details summary)\r\n    const filterGroups = {};\r\n\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name').replace('[]', '');\r\n      const value = $input.value;\r\n      const $label = this.$module.querySelector('label[for=\"' + $input.id + '\"]');\r\n      const labelText = $label ? $label.textContent.trim() : value;\r\n\r\n      // Get category name from parent details summary\r\n      const $details = $input.closest('details');\r\n      const $summary = $details ? $details.querySelector('.dfe-filter-section__summary-heading') : null;\r\n      const categoryName = $summary ? $summary.textContent.trim() : name;\r\n\r\n      if (!filterGroups[categoryName]) {\r\n        filterGroups[categoryName] = [];\r\n      }\r\n      filterGroups[categoryName].push({ name, value, label: labelText });\r\n    });\r\n\r\n    // Handle select elements\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      if ($select.value) {\r\n        const name = $select.getAttribute('name');\r\n        const $selectedOption = $select.options[$select.selectedIndex];\r\n        const labelText = $selectedOption.textContent.trim();\r\n\r\n        // Get category name from parent details summary\r\n        const $details = $select.closest('details');\r\n        const $summary = $details ? $details.querySelector('.dfe-filter-section__summary-heading') : null;\r\n        const categoryName = $summary ? $summary.textContent.trim() : name;\r\n\r\n        if (!filterGroups[categoryName]) {\r\n          filterGroups[categoryName] = [];\r\n        }\r\n        filterGroups[categoryName].push({ name, value: $select.value, label: labelText });\r\n      }\r\n    });\r\n\r\n    // Handle date input groups\r\n    const $dateInputGroups = this.$module.querySelectorAll('.govuk-date-input');\r\n    DfEComponents.nodeListForEach($dateInputGroups, ($dateGroup) => {\r\n      const $dayInput = $dateGroup.querySelector('input[name$=\"[day]\"]');\r\n      const $monthInput = $dateGroup.querySelector('input[name$=\"[month]\"]');\r\n      const $yearInput = $dateGroup.querySelector('input[name$=\"[year]\"]');\r\n\r\n      if ($dayInput && $monthInput && $yearInput) {\r\n        const day = $dayInput.value;\r\n        const month = $monthInput.value;\r\n        const year = $yearInput.value;\r\n\r\n        if (day || month || year) {\r\n          // Extract base name (e.g., \"date_from\" from \"date_from[day]\")\r\n          const baseName = $dayInput.getAttribute('name').replace('[day]', '');\r\n          const dateString = [day, month, year].filter(Boolean).join('/');\r\n\r\n          // Get category name and legend text\r\n          const $details = $dateGroup.closest('details');\r\n          const $summary = $details ? $details.querySelector('.dfe-filter-section__summary-heading') : null;\r\n          const categoryName = $summary ? $summary.textContent.trim() : 'Date';\r\n\r\n          // Get the legend text for this specific date group (e.g., \"Updated after\" or \"Updated before\")\r\n          const $fieldset = $dateGroup.closest('fieldset');\r\n          const $legend = $fieldset ? $fieldset.querySelector('legend') : null;\r\n          const legendText = $legend ? $legend.textContent.trim() : baseName;\r\n\r\n          if (!filterGroups[categoryName]) {\r\n            filterGroups[categoryName] = [];\r\n          }\r\n          filterGroups[categoryName].push({\r\n            name: baseName,\r\n            value: dateString,\r\n            label: legendText + ': ' + dateString,\r\n            isDate: true\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    return filterGroups;\r\n  }\r\n\r\n  updateSelectedFiltersRealTime() {\r\n    // Update the selected filters section inside the panel in real-time\r\n    const filterGroups = this.getFilterGroups();\r\n    this.renderSelectedFilters(filterGroups);\r\n\r\n    // Update result count header and announce to screen readers\r\n    const $count = this.$module.querySelector('.dfe-filter-panel__count');\r\n    const totalFilters = Object.values(filterGroups).reduce((sum, arr) => sum + arr.length, 0);\r\n    const countText = totalFilters > 0 ? totalFilters + ' filter' + (totalFilters !== 1 ? 's' : '') + ' selected' : 'No filters selected';\r\n\r\n    if ($count) {\r\n      $count.textContent = totalFilters > 0 ? totalFilters + ' filter' + (totalFilters !== 1 ? 's' : '') + ' selected' : '24 results';\r\n    }\r\n\r\n    // Announce filter change to screen readers\r\n    this.announceFilterChange(countText);\r\n  }\r\n\r\n  applyFilters(event) {\r\n    event.preventDefault();\r\n\r\n    // Build URL params from selected filters and reload page\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  renderSelectedFilters(filterGroups) {\r\n    const $categoriesList = this.$selectedSection.querySelector('.dfe-filter-panel__selected-categories');\r\n    $categoriesList.innerHTML = '';\r\n\r\n    const categoryNames = Object.keys(filterGroups);\r\n\r\n    if (categoryNames.length === 0) {\r\n      this.$selectedSection.hidden = true;\r\n      return;\r\n    }\r\n\r\n    categoryNames.forEach((categoryName) => {\r\n      const filters = filterGroups[categoryName];\r\n      const $category = document.createElement('li');\r\n      $category.className = 'dfe-filter-panel__selected-category';\r\n\r\n      let tagsHtml = filters.map((filter) => `\r\n        <li>\r\n          <a href=\"#\" class=\"dfe-filter-panel__tag\" data-filter-group=\"${filter.name}\" data-filter-value=\"${filter.value}\">\r\n            ${filter.label}\r\n            <svg class=\"dfe-filter-panel__tag-remove-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12 12\" aria-hidden=\"true\" focusable=\"false\">\r\n              <path d=\"M11.3.7L7 5 11.3 9.3l-.7.7L6.3 5.7 2 10l-.7-.7L5.6 5 1.3.7 2 0l4.3 4.3L10.6 0z\"/>\r\n            </svg>\r\n            <span class=\"govuk-visually-hidden\">Remove filter</span>\r\n          </a>\r\n        </li>\r\n      `).join('');\r\n\r\n      $category.innerHTML = `\r\n        <span class=\"dfe-filter-panel__selected-category-heading\">${categoryName}</span>\r\n        <ul class=\"dfe-filter-panel__tag-list\">${tagsHtml}</ul>\r\n      `;\r\n\r\n      $categoriesList.appendChild($category);\r\n    });\r\n\r\n    this.$selectedSection.hidden = false;\r\n  }\r\n\r\n  renderFilterSummary(filterGroups) {\r\n    const $filterList = this.$filterSummary.querySelector('.dfe-filter-summary__remove-filters');\r\n    $filterList.innerHTML = '';\r\n\r\n    // Flatten all filters into a single list\r\n    const allFilters = [];\r\n    Object.keys(filterGroups).forEach((categoryName) => {\r\n      filterGroups[categoryName].forEach((filter) => {\r\n        allFilters.push(filter);\r\n      });\r\n    });\r\n\r\n    if (allFilters.length === 0) {\r\n      this.$filterSummary.hidden = true;\r\n      return;\r\n    }\r\n\r\n    allFilters.forEach((filter) => {\r\n      const $item = document.createElement('li');\r\n      $item.innerHTML = `\r\n        <a href=\"#\" class=\"dfe-filter-summary__remove-filter\" data-filter-group=\"${filter.name}\" data-filter-value=\"${filter.value}\">\r\n          ${filter.label}\r\n        </a>\r\n      `;\r\n      $filterList.appendChild($item);\r\n    });\r\n\r\n    this.$filterSummary.hidden = false;\r\n  }\r\n\r\n  removeTag($tag, event) {\r\n    event.preventDefault();\r\n\r\n    // Get the filter value to uncheck\r\n    const filterValue = $tag.getAttribute('data-filter-value');\r\n    const filterGroup = $tag.getAttribute('data-filter-group');\r\n\r\n    this.uncheckFilter(filterGroup, filterValue);\r\n\r\n    // Remove the tag from the DOM\r\n    const $tagItem = $tag.closest('li');\r\n    if ($tagItem) {\r\n      $tagItem.remove();\r\n    }\r\n\r\n    // Check if category is now empty and hide it\r\n    this.updateSelectedFiltersVisibility();\r\n\r\n    // Update result count\r\n    this.updateResultCount();\r\n  }\r\n\r\n  removeSummaryTag($tag, event) {\r\n    event.preventDefault();\r\n\r\n    // Get the filter value to uncheck\r\n    const filterValue = $tag.getAttribute('data-filter-value');\r\n    const filterGroup = $tag.getAttribute('data-filter-group');\r\n\r\n    // Uncheck the filter in the form\r\n    this.uncheckFilter(filterGroup, filterValue);\r\n\r\n    // Build new URL params and reload\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  uncheckFilter(filterGroup, filterValue) {\r\n    if (filterValue && filterGroup) {\r\n      // Find and uncheck the corresponding checkbox/radio\r\n      const $input = this.$module.querySelector(\r\n        'input[name=\"' + filterGroup + '\"][value=\"' + filterValue + '\"], input[name=\"' + filterGroup + '[]\"][value=\"' + filterValue + '\"]'\r\n      );\r\n      if ($input) {\r\n        if ($input.type === 'radio') {\r\n          // For radios, we can't really \"uncheck\" - just leave it\r\n        } else {\r\n          $input.checked = false;\r\n        }\r\n      }\r\n\r\n      // Handle select elements\r\n      const $select = this.$module.querySelector('select[name=\"' + filterGroup + '\"]');\r\n      if ($select && $select.value === filterValue) {\r\n        $select.value = '';\r\n      }\r\n\r\n      // Handle date inputs (filterGroup is base name like \"date_from\")\r\n      const $dayInput = this.$module.querySelector('input[name=\"' + filterGroup + '[day]\"]');\r\n      const $monthInput = this.$module.querySelector('input[name=\"' + filterGroup + '[month]\"]');\r\n      const $yearInput = this.$module.querySelector('input[name=\"' + filterGroup + '[year]\"]');\r\n\r\n      if ($dayInput || $monthInput || $yearInput) {\r\n        if ($dayInput) $dayInput.value = '';\r\n        if ($monthInput) $monthInput.value = '';\r\n        if ($yearInput) $yearInput.value = '';\r\n      }\r\n    }\r\n  }\r\n\r\n  updateResultCount() {\r\n    const filterGroups = this.getFilterGroups();\r\n    const $count = this.$module.querySelector('.dfe-filter-panel__count');\r\n    if ($count) {\r\n      const totalFilters = Object.values(filterGroups).reduce((sum, arr) => sum + arr.length, 0);\r\n      $count.textContent = totalFilters > 0 ? totalFilters + ' filter' + (totalFilters !== 1 ? 's' : '') + ' applied' : '24 results';\r\n    }\r\n  }\r\n\r\n  clearAllFilters(event) {\r\n    event.preventDefault();\r\n\r\n    // Uncheck all checkboxes\r\n    const $checkboxes = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked');\r\n    DfEComponents.nodeListForEach($checkboxes, ($checkbox) => {\r\n      $checkbox.checked = false;\r\n    });\r\n\r\n    // Reset radios to first option\r\n    const $fieldsets = this.$module.querySelectorAll('fieldset');\r\n    DfEComponents.nodeListForEach($fieldsets, ($fieldset) => {\r\n      const $firstRadio = $fieldset.querySelector('input[type=\"radio\"]');\r\n      if ($firstRadio) {\r\n        $firstRadio.checked = true;\r\n      }\r\n    });\r\n\r\n    // Reset selects to first option\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      $select.selectedIndex = 0;\r\n    });\r\n\r\n    // Clear date inputs\r\n    const $dateInputs = this.$module.querySelectorAll('.govuk-date-input input[type=\"text\"]');\r\n    DfEComponents.nodeListForEach($dateInputs, ($input) => {\r\n      $input.value = '';\r\n    });\r\n\r\n    // Build URL params (will only have non-filter params like 'keywords') and reload\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  updateSelectedFiltersVisibility() {\r\n    if (!this.$selectedSection) return;\r\n\r\n    const $categories = this.$selectedSection.querySelectorAll('.dfe-filter-panel__selected-category');\r\n    let hasVisibleTags = false;\r\n\r\n    DfEComponents.nodeListForEach($categories, ($category) => {\r\n      const $tags = $category.querySelectorAll('.dfe-filter-panel__tag');\r\n      if ($tags.length === 0) {\r\n        $category.remove();\r\n      } else {\r\n        hasVisibleTags = true;\r\n      }\r\n    });\r\n\r\n    // Hide selected section if no tags remain\r\n    if (!hasVisibleTags) {\r\n      this.$selectedSection.hidden = true;\r\n    }\r\n  }\r\n};\r\n\r\nDfEComponents.PrintLink = class {\r\n  constructor(button) {\r\n    this.$button = button;\r\n\r\n    if (this.$button.dataset.dfePrintLinkInitialised) {\r\n      return;\r\n    }\r\n\r\n    this.$button.dataset.dfePrintLinkInitialised = 'true';\r\n    this.$button.addEventListener('click', this.onClick.bind(this));\r\n  }\r\n\r\n  onClick(event) {\r\n    event.preventDefault();\r\n    window.print();\r\n  }\r\n};\r\n\r\nexport { DfEComponents };"],
  "mappings": "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",
  "names": ["DfEComponents", "nodes", "callback", "i", "options", "scope", "$sortableTables", "$table", "$searchableTables", "$filterPanels", "$module", "$printLinks", "$button", "params", "headings", "heading", "text", "button", "rows", "index", "el", "sortDirection", "columnNumber", "sortedRows", "e", "newSortDirection", "direction", "message", "trs", "rowA", "rowB", "tdA", "tdB", "valueA", "valueB", "cell", "val", "searchInput", "table", "trArray", "filterTable", "event", "searchTerm", "row", "moduleElement", "$tag", "urlParams", "hasFilters", "$inputs", "$input", "name", "value", "paramValues", "$fieldset", "$selects", "$select", "paramValue", "$dateInputs", "$dateGroup", "$dayInput", "$monthInput", "$yearInput", "baseName", "dayValue", "monthValue", "yearValue", "filterGroups", "key", "escapedKey", "isFilterParam", "isDateParam", "newUrl", "isExpanded", "contentId", "$content", "$clearAll", "$label", "labelText", "$details", "$summary", "categoryName", "$dateInputGroups", "day", "month", "year", "dateString", "$legend", "legendText", "$count", "totalFilters", "sum", "arr", "countText", "$categoriesList", "categoryNames", "filters", "$category", "tagsHtml", "filter", "$filterList", "allFilters", "$item", "filterValue", "filterGroup", "$tagItem", "$checkboxes", "$checkbox", "$fieldsets", "$firstRadio", "$categories", "hasVisibleTags"]
}
