{
  "version": 3,
  "sources": ["../../app/js/dfe-custom-components.js"],
  "sourcesContent": ["const DfEComponents = {};\r\n\r\nDfEComponents.nodeListForEach = function(nodes, callback) {\r\n  if (window.NodeList.prototype.forEach) {\r\n    return nodes.forEach(callback);\r\n  }\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    callback.call(window, nodes[i], i, nodes);\r\n  }\r\n};\r\n\r\nDfEComponents.initAll = function(options = {}) {\r\n  const scope = options.scope || document;\r\n\r\n  const $sortableTables = scope.querySelectorAll('[data-module=\"dfe-sortable-table\"]');\r\n  DfEComponents.nodeListForEach($sortableTables, function($table) {\r\n    new DfEComponents.SortableTable({ table: $table });\r\n  });\r\n\r\n  const $searchableTables = scope.querySelectorAll('[data-module=\"dfe-searchable-table\"]');\r\n  DfEComponents.nodeListForEach($searchableTables, function($table) {\r\n    new DfEComponents.SearchableTable({ table: $table });\r\n  });\r\n\r\n  const $filterPanels = scope.querySelectorAll('[data-module=\"dfe-filter-panel\"]');\r\n  DfEComponents.nodeListForEach($filterPanels, function($module) {\r\n    new DfEComponents.FilterPanel($module);\r\n  });\r\n};\r\n\r\nDfEComponents.SortableTable = class {\r\n  constructor(params) {\r\n    this.table = $(params.table);\r\n\r\n    if (this.table.data('dfe-search-toggle-initialised')) {\r\n      return;\r\n    }\r\n\r\n    this.table.data('dfe-search-toggle-initialised', true);\r\n\r\n    this.setupOptions(params);\r\n    this.body = this.table.find('tbody');\r\n    this.createHeadingButtons();\r\n    this.createStatusBox();\r\n    this.initialiseSortedColumn();\r\n    this.table.on('click', 'th button', $.proxy(this, 'onSortButtonClick'));\r\n  }\r\n\r\n  setupOptions(params = {}) {\r\n    this.statusMessage = params.statusMessage || 'Sort by %heading% (%direction%)';\r\n    this.ascendingText = params.ascendingText || 'ascending';\r\n    this.descendingText = params.descendingText || 'descending';\r\n  }\r\n\r\n  createHeadingButtons() {\r\n    const headings = this.table.find('thead th');\r\n    for (let i = 0; i < headings.length; i++) {\r\n      const heading = $(headings[i]);\r\n      if (heading.attr('aria-sort')) {\r\n        this.createHeadingButton(heading, i);\r\n      }\r\n    }\r\n  }\r\n\r\n  createHeadingButton(heading, i) {\r\n    const text = heading.text();\r\n    const button = $('<button type=\"button\" data-index=\"' + i + '\">' + text + '</button>');\r\n    heading.text('');\r\n    heading.append(button);\r\n  }\r\n\r\n  createStatusBox() {\r\n    this.status = $('<div aria-live=\"polite\" role=\"status\" aria-atomic=\"true\" class=\"govuk-visually-hidden\" />');\r\n    this.table.parent().append(this.status);\r\n  }\r\n\r\n  initialiseSortedColumn() {\r\n    const rows = this.getTableRowsArray();\r\n    this.table\r\n      .find('th')\r\n      .filter('[aria-sort=\"ascending\"], [aria-sort=\"descending\"]')\r\n      .first()\r\n      .each((index, el) => {\r\n        const sortDirection = $(el).attr('aria-sort');\r\n        const columnNumber = $(el).find('button').attr('data-index');\r\n        const sortedRows = this.sort(rows, columnNumber, sortDirection);\r\n        this.addRows(sortedRows);\r\n      });\r\n  }\r\n\r\n  onSortButtonClick(e) {\r\n    const columnNumber = e.currentTarget.getAttribute('data-index');\r\n    const sortDirection = $(e.currentTarget).parent().attr('aria-sort');\r\n    const newSortDirection = sortDirection === 'none' || sortDirection === 'descending' ? 'ascending' : 'descending';\r\n    const rows = this.getTableRowsArray();\r\n    const sortedRows = this.sort(rows, columnNumber, newSortDirection);\r\n    this.addRows(sortedRows);\r\n    this.removeButtonStates();\r\n    this.updateButtonState($(e.currentTarget), newSortDirection);\r\n  }\r\n\r\n  updateButtonState(button, direction) {\r\n    button.parent().attr('aria-sort', direction);\r\n    let message = this.statusMessage;\r\n    message = message.replace(/%heading%/, button.text());\r\n    message = message.replace(/%direction%/, this[direction + 'Text']);\r\n    this.status.text(message);\r\n  }\r\n\r\n  removeButtonStates() {\r\n    this.table.find('thead th').attr('aria-sort', 'none');\r\n  }\r\n\r\n  addRows(rows) {\r\n    for (let i = 0; i < rows.length; i++) {\r\n      this.body.append(rows[i]);\r\n    }\r\n  }\r\n\r\n  getTableRowsArray() {\r\n    const rows = [];\r\n    const trs = this.body.find('tr');\r\n    for (let i = 0; i < trs.length; i++) {\r\n      rows.push(trs[i]);\r\n    }\r\n    return rows;\r\n  }\r\n\r\n  sort(rows, columnNumber, sortDirection) {\r\n    return rows.sort(\r\n      $.proxy(function(rowA, rowB) {\r\n        const tdA = $(rowA).find('td,th').eq(columnNumber);\r\n        const tdB = $(rowB).find('td,th').eq(columnNumber);\r\n        const valueA = this.getCellValue(tdA);\r\n        const valueB = this.getCellValue(tdB);\r\n        if (sortDirection === 'ascending') {\r\n          return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;\r\n        } else {\r\n          return valueB < valueA ? -1 : valueB > valueA ? 1 : 0;\r\n        }\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  getCellValue(cell) {\r\n    let val = cell.attr('data-sort-value') || cell.html();\r\n    if ($.isNumeric(val)) {\r\n      val = parseInt(val, 10);\r\n    }\r\n    return val;\r\n  }\r\n};\r\n\r\nDfEComponents.SearchableTable = class {\r\n  constructor(params) {\r\n    this.table = $(params.table);\r\n\r\n    if (this.table.data('dfe-search-toggle-initialised')) {\r\n      return;\r\n    }\r\n\r\n    this.table.data('dfe-search-toggle-initialised', true);\r\n\r\n    this.setupOptions(params);\r\n    this.body = this.table.find('tbody');\r\n    this.createStatusBox();\r\n    this.initialiseSortedColumn();\r\n    this.table.on('click', 'th button', $.proxy(this, 'onSortButtonClick'));\r\n\r\n    const searchInput = document.getElementById('searchInput');\r\n    const table = document.getElementById('filterTable');\r\n    const trArray = Array.prototype.slice.call(table.querySelectorAll('tbody tr'));\r\n\r\n    const filterTable = (event) => {\r\n      const searchTerm = event.target.value.toLowerCase();\r\n      trArray.forEach((row) => {\r\n        row.classList.add('hidden');\r\n        const tdArray = Array.prototype.slice.call(row.getElementsByTagName('td'));\r\n        tdArray.forEach((cell) => {\r\n          if (cell.innerText.toLowerCase().indexOf(searchTerm) > -1) {\r\n            row.classList.remove('hidden');\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    if (searchInput) {\r\n      searchInput.addEventListener('input', filterTable);\r\n    }\r\n  }\r\n\r\n  setupOptions(params = {}) {\r\n    this.statusMessage = params.statusMessage || 'Searching %searchValue%';\r\n  }\r\n\r\n  createStatusBox() {\r\n    this.status = $('<div aria-live=\"polite\" role=\"status\" aria-atomic=\"true\" class=\"govuk-visually-hidden\" />');\r\n    this.table.parent().append(this.status);\r\n  }\r\n\r\n  initialiseSortedColumn() {\r\n    const rows = this.getTableRowsArray();\r\n    this.table\r\n      .find('th')\r\n      .filter('[aria-sort=\"ascending\"], [aria-sort=\"descending\"]')\r\n      .first()\r\n      .each((index, el) => {\r\n        const sortDirection = $(el).attr('aria-sort');\r\n        const columnNumber = $(el).find('button').attr('data-index');\r\n        const sortedRows = this.sort(rows, columnNumber, sortDirection);\r\n        this.addRows(sortedRows);\r\n      });\r\n  }\r\n\r\n  onSortButtonClick(e) {\r\n    const columnNumber = e.currentTarget.getAttribute('data-index');\r\n    const sortDirection = $(e.currentTarget).parent().attr('aria-sort');\r\n    const newSortDirection = sortDirection === 'none' || sortDirection === 'descending' ? 'ascending' : 'descending';\r\n    const rows = this.getTableRowsArray();\r\n    const sortedRows = this.sort(rows, columnNumber, newSortDirection);\r\n    this.addRows(sortedRows);\r\n    this.removeButtonStates();\r\n    this.updateButtonState($(e.currentTarget), newSortDirection);\r\n  }\r\n\r\n  updateButtonState(button, direction) {\r\n    button.parent().attr('aria-sort', direction);\r\n    let message = this.statusMessage;\r\n    message = message.replace(/%heading%/, button.text());\r\n    message = message.replace(/%direction%/, this[direction + 'Text']);\r\n    this.status.text(message);\r\n  }\r\n\r\n  removeButtonStates() {\r\n    this.table.find('thead th').attr('aria-sort', 'none');\r\n  }\r\n\r\n  addRows(rows) {\r\n    for (let i = 0; i < rows.length; i++) {\r\n      this.body.append(rows[i]);\r\n    }\r\n  }\r\n\r\n  getTableRowsArray() {\r\n    const rows = [];\r\n    const trs = this.body.find('tr');\r\n    for (let i = 0; i < trs.length; i++) {\r\n      rows.push(trs[i]);\r\n    }\r\n    return rows;\r\n  }\r\n\r\n  sort(rows, columnNumber, sortDirection) {\r\n    return rows.sort(\r\n      $.proxy(function(rowA, rowB) {\r\n        const tdA = $(rowA).find('td,th').eq(columnNumber);\r\n        const tdB = $(rowB).find('td,th').eq(columnNumber);\r\n        const valueA = this.getCellValue(tdA);\r\n        const valueB = this.getCellValue(tdB);\r\n        if (sortDirection === 'ascending') {\r\n          return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;\r\n        } else {\r\n          return valueB < valueA ? -1 : valueB > valueA ? 1 : 0;\r\n        }\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  getCellValue(cell) {\r\n    let val = cell.attr('data-sort-value') || cell.html();\r\n    if ($.isNumeric(val)) {\r\n      val = parseInt(val, 10);\r\n    }\r\n    return val;\r\n  }\r\n};\r\n\r\nDfEComponents.FilterPanel = class {\r\n  constructor(moduleElement) {\r\n    this.$module = moduleElement;\r\n    // Support both old (.dfe-filter-panel__header-button) and new (.dfe-filter-panel__button) selectors\r\n    this.$headerButton = this.$module.querySelector('.dfe-filter-panel__button') ||\r\n                         this.$module.querySelector('.dfe-filter-panel__header-button');\r\n    this.$content = this.$module.querySelector('.dfe-filter-panel__content');\r\n    // Legacy group buttons (for old markup using buttons instead of details/summary)\r\n    this.$groupButtons = this.$module.querySelectorAll('.dfe-filter-panel__group-button');\r\n    this.$applyButton = this.$module.querySelector('.dfe-filter-panel__action--submit');\r\n    this.$selectedSection = null;\r\n    this.$filterSummary = null;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (!this.$module) return;\r\n\r\n    // Initialize main panel toggle (header button controls visibility of content)\r\n    if (this.$headerButton && this.$content) {\r\n      this.$headerButton.addEventListener('click', this.toggleMainPanel.bind(this));\r\n    }\r\n\r\n    // Initialize legacy group toggles (for old button-based markup)\r\n    // Note: New markup uses native <details>/<summary> which doesn't need JS\r\n    DfEComponents.nodeListForEach(this.$groupButtons, ($button) => {\r\n      $button.addEventListener('click', this.toggleGroup.bind(this, $button));\r\n    });\r\n\r\n    // Initialize apply button\r\n    if (this.$applyButton) {\r\n      this.$applyButton.addEventListener('click', this.applyFilters.bind(this));\r\n    }\r\n\r\n    // Create selected filters section if it doesn't exist\r\n    this.ensureSelectedSection();\r\n\r\n    // Create filter summary section (shown below panel after Apply)\r\n    this.ensureFilterSummary();\r\n\r\n    // Bind tag removal via event delegation (for tags inside panel)\r\n    this.$module.addEventListener('click', (event) => {\r\n      const $tag = event.target.closest('.dfe-filter-panel__tag');\r\n      if ($tag) {\r\n        this.removeTag($tag, event);\r\n      }\r\n    });\r\n\r\n    // Listen for real-time changes on checkboxes, radios, and selects\r\n    this.$module.addEventListener('change', (event) => {\r\n      const $target = event.target;\r\n      if ($target.matches('input[type=\"checkbox\"], input[type=\"radio\"], select')) {\r\n        this.updateSelectedFiltersRealTime();\r\n      }\r\n    });\r\n\r\n    // On page load: read URL params, set form values, and show filter summary if filters exist\r\n    this.initFromUrlParams();\r\n  }\r\n\r\n  initFromUrlParams() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let hasFilters = false;\r\n\r\n    // Set checkbox and radio values from URL params\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name').replace('[]', '');\r\n      const value = $input.value;\r\n      const paramValues = urlParams.getAll(name).concat(urlParams.getAll(name + '[]'));\r\n\r\n      if ($input.type === 'radio') {\r\n        if (paramValues.includes(value)) {\r\n          $input.checked = true;\r\n          // Don't count radio as filter if it's the default (first option)\r\n          const $fieldset = $input.closest('fieldset');\r\n          const $firstRadio = $fieldset ? $fieldset.querySelector('input[type=\"radio\"]') : null;\r\n          if ($firstRadio !== $input) {\r\n            hasFilters = true;\r\n          }\r\n        }\r\n      } else {\r\n        if (paramValues.includes(value)) {\r\n          $input.checked = true;\r\n          hasFilters = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Set select values from URL params\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      const name = $select.getAttribute('name');\r\n      const paramValue = urlParams.get(name);\r\n      if (paramValue) {\r\n        $select.value = paramValue;\r\n        hasFilters = true;\r\n      }\r\n    });\r\n\r\n    // If there are filters in URL, show the filter summary (collapsed view)\r\n    if (hasFilters) {\r\n      const filterGroups = this.getFilterGroups();\r\n      this.renderFilterSummary(filterGroups);\r\n      this.updateResultCount();\r\n    }\r\n  }\r\n\r\n  buildUrlParams() {\r\n    const params = new URLSearchParams();\r\n    const existingParams = new URLSearchParams(window.location.search);\r\n\r\n    // Preserve non-filter params (like 'keywords')\r\n    existingParams.forEach((value, key) => {\r\n      const isFilterParam = this.$module.querySelector(\r\n        'input[name=\"' + key + '\"], input[name=\"' + key + '[]\"], select[name=\"' + key + '\"], input[name=\"' + key.replace('[]', '') + '[]\"]'\r\n      );\r\n      if (!isFilterParam) {\r\n        params.append(key, value);\r\n      }\r\n    });\r\n\r\n    // Add filter params from form\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked, input[type=\"radio\"]:checked');\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name');\r\n      const value = $input.value;\r\n\r\n      // For radios, only add if not the default (first option)\r\n      if ($input.type === 'radio') {\r\n        const $fieldset = $input.closest('fieldset');\r\n        const $firstRadio = $fieldset ? $fieldset.querySelector('input[type=\"radio\"]') : null;\r\n        if ($firstRadio !== $input) {\r\n          params.append(name.replace('[]', ''), value);\r\n        }\r\n      } else {\r\n        params.append(name.replace('[]', '') + '[]', value);\r\n      }\r\n    });\r\n\r\n    // Add select values\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      if ($select.value) {\r\n        params.append($select.getAttribute('name'), $select.value);\r\n      }\r\n    });\r\n\r\n    return params;\r\n  }\r\n\r\n  reloadWithParams(params) {\r\n    const newUrl = window.location.pathname + (params.toString() ? '?' + params.toString() : '');\r\n    window.location.href = newUrl;\r\n  }\r\n\r\n  toggleMainPanel(event) {\r\n    event.preventDefault();\r\n    const isExpanded = this.$headerButton.getAttribute('aria-expanded') === 'true';\r\n    this.$headerButton.setAttribute('aria-expanded', String(!isExpanded));\r\n    this.$content.hidden = isExpanded;\r\n  }\r\n\r\n  collapseMainPanel() {\r\n    if (this.$headerButton && this.$content) {\r\n      this.$headerButton.setAttribute('aria-expanded', 'false');\r\n      this.$content.hidden = true;\r\n    }\r\n  }\r\n\r\n  toggleGroup($button, event) {\r\n    event.preventDefault();\r\n    const isExpanded = $button.getAttribute('aria-expanded') === 'true';\r\n    const contentId = $button.getAttribute('aria-controls');\r\n    const $content = this.$module.querySelector('#' + contentId);\r\n\r\n    if ($content) {\r\n      $button.setAttribute('aria-expanded', String(!isExpanded));\r\n      $content.hidden = isExpanded;\r\n    }\r\n  }\r\n\r\n  ensureSelectedSection() {\r\n    this.$selectedSection = this.$module.querySelector('.dfe-filter-panel__selected');\r\n    if (!this.$selectedSection) {\r\n      // Create the selected filters section\r\n      this.$selectedSection = document.createElement('div');\r\n      this.$selectedSection.className = 'dfe-filter-panel__selected';\r\n      this.$selectedSection.hidden = true;\r\n      this.$selectedSection.innerHTML = `\r\n        <div class=\"dfe-filter-panel__selected-header\">\r\n          <h3 class=\"dfe-filter-panel__selected-heading\">Selected filters</h3>\r\n          <a href=\"#\" class=\"govuk-link govuk-link--no-visited-state dfe-filter-panel__clear-all\">Clear all filters</a>\r\n        </div>\r\n        <ul class=\"dfe-filter-panel__selected-categories\"></ul>\r\n      `;\r\n      // Insert at the start of the content area\r\n      if (this.$content) {\r\n        this.$content.insertBefore(this.$selectedSection, this.$content.firstChild);\r\n      }\r\n\r\n      // Bind clear all link\r\n      const $clearAll = this.$selectedSection.querySelector('.dfe-filter-panel__clear-all');\r\n      if ($clearAll) {\r\n        $clearAll.addEventListener('click', this.clearAllFilters.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  ensureFilterSummary() {\r\n    // Create filter summary section that appears BELOW the filter panel (outside of it)\r\n    this.$filterSummary = this.$module.nextElementSibling;\r\n    if (!this.$filterSummary || !this.$filterSummary.classList.contains('dfe-filter-summary')) {\r\n      this.$filterSummary = document.createElement('div');\r\n      this.$filterSummary.className = 'dfe-filter-summary';\r\n      this.$filterSummary.hidden = true;\r\n      this.$filterSummary.innerHTML = `\r\n        <h3 class=\"dfe-filter-summary__heading\">Filters applied</h3>\r\n        <ul class=\"dfe-filter-summary__remove-filters\"></ul>\r\n        <a href=\"#\" class=\"govuk-link govuk-link--no-visited-state dfe-filter-summary__clear-filters\">Clear all filters</a>\r\n      `;\r\n      // Insert after the filter panel\r\n      this.$module.insertAdjacentElement('afterend', this.$filterSummary);\r\n\r\n      // Bind clear all link in summary\r\n      const $clearAll = this.$filterSummary.querySelector('.dfe-filter-summary__clear-filters');\r\n      if ($clearAll) {\r\n        $clearAll.addEventListener('click', this.clearAllFilters.bind(this));\r\n      }\r\n\r\n      // Bind tag removal via event delegation in summary\r\n      this.$filterSummary.addEventListener('click', (event) => {\r\n        const $tag = event.target.closest('.dfe-filter-summary__remove-filter');\r\n        if ($tag) {\r\n          this.removeSummaryTag($tag, event);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getFilterGroups() {\r\n    // Get all checked checkboxes and selected radios\r\n    const $inputs = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked, input[type=\"radio\"]:checked');\r\n    const $selects = this.$module.querySelectorAll('select');\r\n\r\n    // Group filters by their category (name attribute or parent details summary)\r\n    const filterGroups = {};\r\n\r\n    DfEComponents.nodeListForEach($inputs, ($input) => {\r\n      const name = $input.getAttribute('name').replace('[]', '');\r\n      const value = $input.value;\r\n      const $label = this.$module.querySelector('label[for=\"' + $input.id + '\"]');\r\n      const labelText = $label ? $label.textContent.trim() : value;\r\n\r\n      // Get category name from parent details summary\r\n      const $details = $input.closest('details');\r\n      const $summary = $details ? $details.querySelector('.dfe-filter-section__summary-heading') : null;\r\n      const categoryName = $summary ? $summary.textContent.trim() : name;\r\n\r\n      if (!filterGroups[categoryName]) {\r\n        filterGroups[categoryName] = [];\r\n      }\r\n      filterGroups[categoryName].push({ name, value, label: labelText });\r\n    });\r\n\r\n    // Handle select elements\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      if ($select.value) {\r\n        const name = $select.getAttribute('name');\r\n        const $selectedOption = $select.options[$select.selectedIndex];\r\n        const labelText = $selectedOption.textContent.trim();\r\n\r\n        // Get category name from parent details summary\r\n        const $details = $select.closest('details');\r\n        const $summary = $details ? $details.querySelector('.dfe-filter-section__summary-heading') : null;\r\n        const categoryName = $summary ? $summary.textContent.trim() : name;\r\n\r\n        if (!filterGroups[categoryName]) {\r\n          filterGroups[categoryName] = [];\r\n        }\r\n        filterGroups[categoryName].push({ name, value: $select.value, label: labelText });\r\n      }\r\n    });\r\n\r\n    return filterGroups;\r\n  }\r\n\r\n  updateSelectedFiltersRealTime() {\r\n    // Update the selected filters section inside the panel in real-time\r\n    const filterGroups = this.getFilterGroups();\r\n    this.renderSelectedFilters(filterGroups);\r\n\r\n    // Update result count header\r\n    const $count = this.$module.querySelector('.dfe-filter-panel__count');\r\n    if ($count) {\r\n      const totalFilters = Object.values(filterGroups).reduce((sum, arr) => sum + arr.length, 0);\r\n      $count.textContent = totalFilters > 0 ? totalFilters + ' filter' + (totalFilters !== 1 ? 's' : '') + ' selected' : '24 results';\r\n    }\r\n  }\r\n\r\n  applyFilters(event) {\r\n    event.preventDefault();\r\n\r\n    // Build URL params from selected filters and reload page\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  renderSelectedFilters(filterGroups) {\r\n    const $categoriesList = this.$selectedSection.querySelector('.dfe-filter-panel__selected-categories');\r\n    $categoriesList.innerHTML = '';\r\n\r\n    const categoryNames = Object.keys(filterGroups);\r\n\r\n    if (categoryNames.length === 0) {\r\n      this.$selectedSection.hidden = true;\r\n      return;\r\n    }\r\n\r\n    categoryNames.forEach((categoryName) => {\r\n      const filters = filterGroups[categoryName];\r\n      const $category = document.createElement('li');\r\n      $category.className = 'dfe-filter-panel__selected-category';\r\n\r\n      let tagsHtml = filters.map((filter) => `\r\n        <li>\r\n          <a href=\"#\" class=\"dfe-filter-panel__tag\" data-filter-group=\"${filter.name}\" data-filter-value=\"${filter.value}\">\r\n            ${filter.label}\r\n            <svg class=\"dfe-filter-panel__tag-remove-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12 12\" aria-hidden=\"true\" focusable=\"false\">\r\n              <path d=\"M11.3.7L7 5 11.3 9.3l-.7.7L6.3 5.7 2 10l-.7-.7L5.6 5 1.3.7 2 0l4.3 4.3L10.6 0z\"/>\r\n            </svg>\r\n            <span class=\"govuk-visually-hidden\">Remove filter</span>\r\n          </a>\r\n        </li>\r\n      `).join('');\r\n\r\n      $category.innerHTML = `\r\n        <span class=\"dfe-filter-panel__selected-category-heading\">${categoryName}</span>\r\n        <ul class=\"dfe-filter-panel__tag-list\">${tagsHtml}</ul>\r\n      `;\r\n\r\n      $categoriesList.appendChild($category);\r\n    });\r\n\r\n    this.$selectedSection.hidden = false;\r\n  }\r\n\r\n  renderFilterSummary(filterGroups) {\r\n    const $filterList = this.$filterSummary.querySelector('.dfe-filter-summary__remove-filters');\r\n    $filterList.innerHTML = '';\r\n\r\n    // Flatten all filters into a single list\r\n    const allFilters = [];\r\n    Object.keys(filterGroups).forEach((categoryName) => {\r\n      filterGroups[categoryName].forEach((filter) => {\r\n        allFilters.push(filter);\r\n      });\r\n    });\r\n\r\n    if (allFilters.length === 0) {\r\n      this.$filterSummary.hidden = true;\r\n      return;\r\n    }\r\n\r\n    allFilters.forEach((filter) => {\r\n      const $item = document.createElement('li');\r\n      $item.innerHTML = `\r\n        <a href=\"#\" class=\"dfe-filter-summary__remove-filter\" data-filter-group=\"${filter.name}\" data-filter-value=\"${filter.value}\">\r\n          ${filter.label}\r\n        </a>\r\n      `;\r\n      $filterList.appendChild($item);\r\n    });\r\n\r\n    this.$filterSummary.hidden = false;\r\n  }\r\n\r\n  removeTag($tag, event) {\r\n    event.preventDefault();\r\n\r\n    // Get the filter value to uncheck\r\n    const filterValue = $tag.getAttribute('data-filter-value');\r\n    const filterGroup = $tag.getAttribute('data-filter-group');\r\n\r\n    this.uncheckFilter(filterGroup, filterValue);\r\n\r\n    // Remove the tag from the DOM\r\n    const $tagItem = $tag.closest('li');\r\n    if ($tagItem) {\r\n      $tagItem.remove();\r\n    }\r\n\r\n    // Check if category is now empty and hide it\r\n    this.updateSelectedFiltersVisibility();\r\n\r\n    // Update result count\r\n    this.updateResultCount();\r\n  }\r\n\r\n  removeSummaryTag($tag, event) {\r\n    event.preventDefault();\r\n\r\n    // Get the filter value to uncheck\r\n    const filterValue = $tag.getAttribute('data-filter-value');\r\n    const filterGroup = $tag.getAttribute('data-filter-group');\r\n\r\n    // Uncheck the filter in the form\r\n    this.uncheckFilter(filterGroup, filterValue);\r\n\r\n    // Build new URL params and reload\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  uncheckFilter(filterGroup, filterValue) {\r\n    if (filterValue && filterGroup) {\r\n      // Find and uncheck the corresponding checkbox/radio\r\n      const $input = this.$module.querySelector(\r\n        'input[name=\"' + filterGroup + '\"][value=\"' + filterValue + '\"], input[name=\"' + filterGroup + '[]\"][value=\"' + filterValue + '\"]'\r\n      );\r\n      if ($input) {\r\n        if ($input.type === 'radio') {\r\n          // For radios, we can't really \"uncheck\" - just leave it\r\n        } else {\r\n          $input.checked = false;\r\n        }\r\n      }\r\n\r\n      // Handle select elements\r\n      const $select = this.$module.querySelector('select[name=\"' + filterGroup + '\"]');\r\n      if ($select && $select.value === filterValue) {\r\n        $select.value = '';\r\n      }\r\n    }\r\n  }\r\n\r\n  updateResultCount() {\r\n    const filterGroups = this.getFilterGroups();\r\n    const $count = this.$module.querySelector('.dfe-filter-panel__count');\r\n    if ($count) {\r\n      const totalFilters = Object.values(filterGroups).reduce((sum, arr) => sum + arr.length, 0);\r\n      $count.textContent = totalFilters > 0 ? totalFilters + ' filter' + (totalFilters !== 1 ? 's' : '') + ' applied' : '24 results';\r\n    }\r\n  }\r\n\r\n  clearAllFilters(event) {\r\n    event.preventDefault();\r\n\r\n    // Uncheck all checkboxes\r\n    const $checkboxes = this.$module.querySelectorAll('input[type=\"checkbox\"]:checked');\r\n    DfEComponents.nodeListForEach($checkboxes, ($checkbox) => {\r\n      $checkbox.checked = false;\r\n    });\r\n\r\n    // Reset radios to first option\r\n    const $fieldsets = this.$module.querySelectorAll('fieldset');\r\n    DfEComponents.nodeListForEach($fieldsets, ($fieldset) => {\r\n      const $firstRadio = $fieldset.querySelector('input[type=\"radio\"]');\r\n      if ($firstRadio) {\r\n        $firstRadio.checked = true;\r\n      }\r\n    });\r\n\r\n    // Reset selects to first option\r\n    const $selects = this.$module.querySelectorAll('select');\r\n    DfEComponents.nodeListForEach($selects, ($select) => {\r\n      $select.selectedIndex = 0;\r\n    });\r\n\r\n    // Build URL params (will only have non-filter params like 'keywords') and reload\r\n    const params = this.buildUrlParams();\r\n    this.reloadWithParams(params);\r\n  }\r\n\r\n  updateSelectedFiltersVisibility() {\r\n    if (!this.$selectedSection) return;\r\n\r\n    const $categories = this.$selectedSection.querySelectorAll('.dfe-filter-panel__selected-category');\r\n    let hasVisibleTags = false;\r\n\r\n    DfEComponents.nodeListForEach($categories, ($category) => {\r\n      const $tags = $category.querySelectorAll('.dfe-filter-panel__tag');\r\n      if ($tags.length === 0) {\r\n        $category.remove();\r\n      } else {\r\n        hasVisibleTags = true;\r\n      }\r\n    });\r\n\r\n    // Hide selected section if no tags remain\r\n    if (!hasVisibleTags) {\r\n      this.$selectedSection.hidden = true;\r\n    }\r\n  }\r\n};\r\n\r\nexport { DfEComponents };"],
  "mappings": "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",
  "names": ["DfEComponents", "nodes", "callback", "i", "options", "scope", "$sortableTables", "$table", "$searchableTables", "$filterPanels", "$module", "params", "headings", "heading", "text", "button", "rows", "index", "el", "sortDirection", "columnNumber", "sortedRows", "newSortDirection", "direction", "message", "trs", "rowA", "rowB", "tdA", "tdB", "valueA", "valueB", "cell", "val", "searchInput", "table", "trArray", "filterTable", "event", "searchTerm", "row", "moduleElement", "$button", "$tag", "urlParams", "hasFilters", "$inputs", "$input", "name", "value", "paramValues", "$fieldset", "$selects", "$select", "paramValue", "filterGroups", "key", "newUrl", "isExpanded", "contentId", "$content", "$clearAll", "$label", "labelText", "$details", "$summary", "categoryName", "$count", "totalFilters", "sum", "arr", "$categoriesList", "categoryNames", "filters", "$category", "tagsHtml", "filter", "$filterList", "allFilters", "$item", "filterValue", "filterGroup", "$tagItem", "$checkboxes", "$checkbox", "$fieldsets", "$firstRadio", "$categories", "hasVisibleTags"]
}
