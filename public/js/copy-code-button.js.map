{
  "version": 3,
  "sources": ["../../app/js/copy-code-button.js"],
  "sourcesContent": ["/**\r\n * Copy Code Button\r\n * Adds copy buttons to all code blocks and handles clipboard functionality\r\n */\r\n(function() {\r\n  /**\r\n   * Initialize copy buttons for code blocks\r\n   * @param {Element|Document} container - The container to search for code blocks (defaults to document)\r\n   */\r\n  function initCopyButtons(container) {\r\n    container = container || document;\r\n\r\n    container.querySelectorAll('pre code').forEach((codeBlock) => {\r\n      const pre = codeBlock.parentElement;\r\n\r\n      // Skip if button already exists (prevent duplicates)\r\n      if (pre.querySelector('.copy-code-button')) {\r\n        return;\r\n      }\r\n\r\n      // Create the button\r\n      const button = document.createElement('button');\r\n      button.type = 'button';\r\n      button.className = 'copy-code-button';\r\n      button.setAttribute('aria-label', 'Copy code to clipboard');\r\n      button.textContent = 'Copy code';\r\n\r\n      // Copy code to clipboard on click\r\n      button.addEventListener('click', async () => {\r\n        try {\r\n          await navigator.clipboard.writeText(codeBlock.textContent);\r\n\r\n          // Update to success state\r\n          button.textContent = 'Copied!';\r\n          button.classList.add('copy-code-button--copied');\r\n\r\n          // Reset after delay\r\n          setTimeout(() => {\r\n            button.textContent = 'Copy code';\r\n            button.classList.remove('copy-code-button--copied');\r\n          }, 2000);\r\n        } catch (err) {\r\n          console.error('Copy failed:', err);\r\n          button.textContent = 'Error';\r\n          setTimeout(() => {\r\n            button.textContent = 'Copy code';\r\n          }, 2000);\r\n        }\r\n      });\r\n\r\n      // Insert the button inside the <pre> element (for absolute positioning)\r\n      pre.insertBefore(button, pre.firstChild);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Re-highlight a code element using hljs if available\r\n   * @param {Element} codeElement - The code element to highlight\r\n   */\r\n  function highlightCode(codeElement) {\r\n    if (typeof hljs !== 'undefined' && codeElement) {\r\n      // Remove existing hljs classes to allow re-highlighting\r\n      codeElement.classList.remove('hljs');\r\n      codeElement.removeAttribute('data-highlighted');\r\n\r\n      hljs.highlightElement(codeElement);\r\n    }\r\n  }\r\n\r\n  // Initialize on DOM ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', function() {\r\n      initCopyButtons();\r\n    });\r\n  } else {\r\n    initCopyButtons();\r\n  }\r\n\r\n  // Expose functions globally for use by other scripts\r\n  window.DfECodeBlocks = {\r\n    initCopyButtons: initCopyButtons,\r\n    highlightCode: highlightCode\r\n  };\r\n})();\r\n"],
  "mappings": "8MAIC,UAAW,CAKV,SAASA,EAAgBC,EAAW,CAClCA,EAAYA,GAAa,SAEzBA,EAAU,iBAAiB,UAAU,EAAE,QAASC,GAAc,CAC5D,MAAMC,EAAMD,EAAU,cAGtB,GAAIC,EAAI,cAAc,mBAAmB,EACvC,OAIF,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,KAAO,SACdA,EAAO,UAAY,mBACnBA,EAAO,aAAa,aAAc,wBAAwB,EAC1DA,EAAO,YAAc,YAGrBA,EAAO,iBAAiB,QAAS,IAAYC,EAAA,sBAC3C,GAAI,CACF,MAAM,UAAU,UAAU,UAAUH,EAAU,WAAW,EAGzDE,EAAO,YAAc,UACrBA,EAAO,UAAU,IAAI,0BAA0B,EAG/C,WAAW,IAAM,CACfA,EAAO,YAAc,YACrBA,EAAO,UAAU,OAAO,0BAA0B,CACpD,EAAG,GAAI,CACT,OAASE,EAAK,CACZ,QAAQ,MAAM,eAAgBA,CAAG,EACjCF,EAAO,YAAc,QACrB,WAAW,IAAM,CACfA,EAAO,YAAc,WACvB,EAAG,GAAI,CACT,CACF,EAAC,EAGDD,EAAI,aAAaC,EAAQD,EAAI,UAAU,CACzC,CAAC,CACH,CAMA,SAASI,EAAcC,EAAa,CAC9B,OAAO,MAAS,aAAeA,IAEjCA,EAAY,UAAU,OAAO,MAAM,EACnCA,EAAY,gBAAgB,kBAAkB,EAE9C,KAAK,iBAAiBA,CAAW,EAErC,CAGI,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoB,UAAW,CACvDR,EAAgB,CAClB,CAAC,EAEDA,EAAgB,EAIlB,OAAO,cAAgB,CACrB,gBAAiBA,EACjB,cAAeO,CACjB,CACF,GAAG",
  "names": ["initCopyButtons", "container", "codeBlock", "pre", "button", "__async", "err", "highlightCode", "codeElement"]
}
